<?xml version="1.0" encoding="UTF-8"?>
<metadataConfig ArcGISProfile="FGDC" ValidatePages="True">
  <validationNamespaceURI>metadata</validationNamespaceURI>
  <validationSchemaURL>http://www.fgdc.gov/schemas/metadata/fgdc-std-001-1998.dtd</validationSchemaURL>
  <tranformStyle>FGDC</tranformStyle>
  <viewerXslt>Metadata\Stylesheets\ArcGISProFull.xsl</viewerXslt>
  <editor>
    <forms>
      <section class="ArcGIS.Desktop.Metadata.Editor.Sections.Overview">
        <page class="ArcGIS.Desktop.Metadata.Editor.Pages.ItemInfo">
          <validation>

            <!-- title -->
            <exists xpath="/metadata/dataIdInfo/idCitation/resTitle[. != '']" ref="resTitle"/>

            <!-- abstract -->
            <for xpath="/metadata[not(tool)]">
              <exists xpath="dataIdInfo/idAbs[. != '']" ref="idAbs"/>
            </for>

            <!-- tool summary -->
            <for xpath="/metadata[tool]">
              <exists xpath="tool/summary[. != '']" ref="toolSummary"/>
            </for>

            <!-- tools -->
            <for xpath="//scriptExample">
              <exists xpath="title[. != '']" ref="scriptTitle"/>
            </for>

            <!-- extent -->
            <!-- FGDC: a bounding box is required no matter what the 'scope' -->
            <exists xpath="//dataExt//GeoBndBox[*]" ref="dataExtBBoxReq_FGDC"/>

            <for xpath="//dataExt//GeoBndBox[*][1]">
              <exists xpath="westBL[. != '']" ref="westBL,.,westBL"/>
              <exists xpath="eastBL[. != '']" ref="eastBL,.,eastBL"/>
              <exists xpath="northBL[. != '']" ref="northBL,.,northBL"/>
              <exists xpath="southBL[. != '']" ref="southBL,.,southBL"/>
              <exists xpath=".[westBL &lt; eastBL]" ref="westBL,westBL,westBL_range"/>
              <exists xpath=".[southBL &lt; northBL]" ref="northBL,northBL,northBL_range"/>
            </for>

            <!-- FGDC: purpose -->
            <for xpath="/metadata[not(tool)]">
              <exists xpath="dataIdInfo/idPurp[. != '']" ref="idPurp"/>
            </for>

            <!-- FGDC: a topic, keyword or tag is required -->
            <exists xpath="//dataIdInfo[tpCatBag/*/@value='True' or themeKeys/bag != '' or searchKeys/bag != '']" ref="tagTopicKeyword"/>

          </validation>
        </page>
        <page class="ArcGIS.Desktop.Metadata.Editor.Pages.Keywords">
          <validation>

            <!-- FGDC: a topic, keyword or tag is required -->
            <exists xpath="//dataIdInfo[tpCatBag/*/@value='True' or themeKeys/bag != '' or searchKeys/bag != '']" ref="tagTopicKeyword"/>

            <!-- theme keywords -->
            <for xpath="/metadata/dataIdInfo/themeKeys">
              <exists xpath="bag[. != '']" ref="bag,.,themeKeywords"/>
            </for>
            <!-- place keywords -->
            <for xpath="/metadata/dataIdInfo/placeKeys">
              <exists xpath="bag[. != '']" ref="bag,.,placeKeywords"/>
            </for>
            <!-- temporal keywords -->
            <for xpath="/metadata/dataIdInfo/tempKeys">
              <exists xpath="bag[. != '']" ref="bag,.,temporalKeywords"/>
            </for>
            <!-- stratum keywords -->
            <for xpath="/metadata/dataIdInfo/stratKeys">
              <exists xpath="bag[. != '']" ref="bag,.,stratumKeywords"/>
            </for>

            <!-- FGDC: contact name or org is required; position is optional -->
            <for xpath="//thesaName/citRespParty">
              <exists xpath="self::*[rpIndName != '' or rpOrgName != '']" ref="partyFgdc IndName,rpIndName OrgName,rpOrgName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>
            <!-- FGDC: address not required for originators and publishers-->
            <for xpath="//thesaName/citRespParty[role/RoleCd/@value != '006' and role/RoleCd/@value != '010']">
              <exists xpath="rpCntInfo/cntAddress[@addressType != '']" ref="addressType,@addressType"/>
              <exists xpath="rpCntInfo/cntAddress/adminArea[. != '']" ref="adminArea,.,adminArea_FGDC"/>
              <exists xpath="rpCntInfo/cntAddress/postCode[. != '']" ref="postCode"/>
              <exists xpath="rpCntInfo/cntAddress/city[. != '']" ref="city"/>
              <exists xpath="rpCntInfo/cntPhone/voiceNum[(not(@tddtty) or @tddtty = '' or @tddtty = 'voice' or @tddtty = 'False' or @tddtty = 'false') and . != '']" ref="voiceNum"/>
            </for>

            <!-- linkage -->
            <for xpath="//thesaName/citRespParty/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>

            <!-- citation -->
            <for xpath="//thesaName//*[identCode]">
              <exists xpath="identCode[. != '']" ref="identCode"/>
            </for>
            <!-- FGDC: keyword thesaurus citation titles and dates are optional
  <for xpath="//thesaName[resTitle | date]">
    <exists xpath="resTitle[. != '']" ref="resTitle"/>
    <exists xpath="date[* != '']" ref="dates createDate,createDate pubDate,pubDate reviseDate,reviseDate"/>             
  </for>
   -->
            <for xpath="//thesaName//citOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>
            <for xpath="//thesaName//identAuth[resTitle | date]">
              <exists xpath="resTitle[. != '']" ref="resTitle"/>
              <exists xpath="date[* != '']" ref="dates createDate,createDate pubDate,pubDate reviseDate,reviseDate"/>
            </for>

          </validation>
        </page>
        <page class="ArcGIS.Desktop.Metadata.Editor.Pages.DatasetCitation">
          <validation>

            <!-- citation -->
            <!-- title and date required for main citation - FGDC rules -->
            <for xpath="//idCitation[resTitle | date]">
              <exists xpath="resTitle[. != '']" ref="resTitle"/>
              <!-- FGDC: publication date is required -->
              <exists xpath="date/pubDate[. != '']" ref="pubDate"/>
            </for>
            <!-- FGDC: series - both name and issue identifier required -->
            <for xpath="//datasetSeries[* != '']">
              <exists xpath="self::*[seriesName != '' and issId != '']" ref="datasetSeries seriesName,seriesName issId,issId"/>
            </for>
            <!--  linkage required for online resources for main citation and identifier citation -->
            <for xpath="//dataIdInfo//citOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>

            <!-- citation identifier -->
            <!--  code required for identifiers -->
            <for xpath="//idCitation/citId[identCode]">
              <exists xpath="identCode[. != '']" ref="identCode"/>
            </for>
            <!-- citation identifier authority citation -->
            <!-- title and date required - ISO rules since FGDC doesn't have identifiers -->
            <for xpath="//idCitation/citId/identAuth[resTitle | date]">
              <exists xpath="resTitle[. != '']" ref="resTitle"/>
              <exists xpath="date[* != '']" ref="dates createDate,createDate pubDate,pubDate reviseDate,reviseDate"/>
            </for>
            <!-- identifier citation contacts -->
            <!-- contact name, org or role -->
            <for xpath="//idCitation/citId/identAuth/citRespParty">
              <exists xpath="(rpIndName | rpOrgName | rpPosName)[. != '']/.." ref="party IndName,rpIndName OrgName,rpOrgName PosName,rpPosName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>
            <!-- linkage -->
            <for xpath="//idCitation/citId/identAuth/citRespParty/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>

          </validation>
        </page>
        <page class="ArcGIS.Desktop.Metadata.Editor.Pages.ResourceCitationContacts">
          <validation>

            <!-- FGDC: contact name or org is required; position is optional -->
            <for xpath="/metadata/dataIdInfo/idCitation/citRespParty">
              <exists xpath="self::*[rpIndName != '' or rpOrgName != '']" ref="partyFgdc IndName,rpIndName OrgName,rpOrgName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>
            <!-- FGDC: address not required for originators and publishers-->
            <for xpath="/metadata/dataIdInfo/idCitation/citRespParty[role/RoleCd/@value != '006' and role/RoleCd/@value != '010']">
              <exists xpath="rpCntInfo/cntAddress[@addressType != '']" ref="addressType,@addressType"/>
              <exists xpath="rpCntInfo/cntAddress/adminArea[. != '']" ref="adminArea,.,adminArea_FGDC"/>
              <exists xpath="rpCntInfo/cntAddress/postCode[. != '']" ref="postCode"/>
              <exists xpath="rpCntInfo/cntAddress/city[. != '']" ref="city"/>
              <exists xpath="rpCntInfo/cntPhone/voiceNum[(not(@tddtty) or @tddtty = '' or @tddtty = 'voice' or @tddtty = 'False' or @tddtty = 'false') and . != '']" ref="voiceNum"/>
            </for>

            <!-- linkage -->
            <for xpath="/metadata/dataIdInfo/idCitation/citRespParty/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>

            <!-- FGDC: an 'originator' is required -->
            <exists xpath="//idCitation/citRespParty[role/RoleCd/@value = '006']" ref="originator"/>

          </validation>
        </page>
        <page class="ArcGIS.Desktop.Metadata.Editor.Pages.ContactManager"></page>
      </section>
      <section class="ArcGIS.Desktop.Metadata.Editor.Sections.Metadata">
        <page class="ArcGIS.Desktop.Metadata.Editor.Pages.MetadataDetails">
          <validation>
            <!-- date stamp is required -->
            <exists xpath="/metadata/mdDateSt[. != '']" ref="mdDateSt"/>
          </validation>
        </page>
        <page class="ArcGIS.Desktop.Metadata.Editor.Pages.MetadataContacts">
          <validation>

            <!-- one contact requried -->
            <exists xpath="/metadata[mdContact]" ref="mdContact"/>

            <!-- FGDC: contact name or org is required; position is optional -->
            <for xpath="//mdContact">
              <exists xpath="self::*[rpIndName != '' or rpOrgName != '']" ref="partyFgdc IndName,rpIndName OrgName,rpOrgName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>
            <!-- FGDC: address not required for originators and publishers-->
            <for xpath="//mdContact">
              <exists xpath="rpCntInfo/cntAddress[@addressType != '']" ref="addressType,@addressType"/>
              <exists xpath="rpCntInfo/cntAddress/adminArea[. != '']" ref="adminArea,.,adminArea_FGDC"/>
              <exists xpath="rpCntInfo/cntAddress/postCode[. != '']" ref="postCode"/>
              <exists xpath="rpCntInfo/cntAddress/city[. != '']" ref="city"/>
              <exists xpath="rpCntInfo/cntPhone/voiceNum[(not(@tddtty) or @tddtty = '' or @tddtty = 'voice' or @tddtty = 'False' or @tddtty = 'false') and . != '']" ref="voiceNum"/>
            </for>

            <!-- linkage -->
            <for xpath="//mdContact/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>

          </validation>
        </page>
        <page class="ArcGIS.Desktop.Metadata.Editor.Pages.MetadataMaintenance">
          <validation>

            <for xpath="//mdMaint">

              <!-- maintentance frequency -->
              <for xpath="maintFreq">
                <exists xpath="MaintFreqCd[@value != '']" ref="maintFreq"/>
              </for>

              <!-- maintenance scope -->
              <for xpath="maintScp">
                <exists xpath="ScopeCd[@value != '']" ref="scopeCd"/>
              </for>
            </for>

            <!-- FGDC: contact name or org is required; position is optional -->
            <for xpath="//mdMaint/maintCont">
              <exists xpath="self::*[rpIndName != '' or rpOrgName != '']" ref="partyFgdc IndName,rpIndName OrgName,rpOrgName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>
            <!-- FGDC: address not required for originators and publishers-->
            <for xpath="//mdMaint/maintCont[role/RoleCd/@value != '006' and role/RoleCd/@value != '010']">
              <exists xpath="rpCntInfo/cntAddress[@addressType != '']" ref="addressType,@addressType"/>
              <exists xpath="rpCntInfo/cntAddress/adminArea[. != '']" ref="adminArea,.,adminArea_FGDC"/>
              <exists xpath="rpCntInfo/cntAddress/postCode[. != '']" ref="postCode"/>
              <exists xpath="rpCntInfo/cntAddress/city[. != '']" ref="city"/>
              <exists xpath="rpCntInfo/cntPhone/voiceNum[(not(@tddtty) or @tddtty = '' or @tddtty = 'voice' or @tddtty = 'False' or @tddtty = 'false') and . != '']" ref="voiceNum"/>
            </for>

            <!-- linkage -->
            <for xpath="//mdMaint/maintCont/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>

          </validation>
        </page>
        <page class="ArcGIS.Desktop.Metadata.Editor.Pages.MetadataConstraints">
          <validation>
            <!-- classification code -->
            <for xpath="//mdConst/SecConsts">
              <exists xpath="class/ClasscationCd[@value != '']" ref="ClasscationCd"/>
              <!-- FGDC: additional constraints -->
              <exists xpath="classSys[. != '']" ref="classSys"/>
              <exists xpath="handDesc[. != '']" ref="handDesc"/>
            </for>
            <!-- if the 'other contraints' code is used, then the other contraints tag is required -->
            <for xpath="//mdConst/LegConsts[*/RestrictCd/@value = '008']">
              <exists xpath="othConsts[. != '']" ref="othConsts"/>
            </for>
            <!-- use constraint is required in the general class -->
            <!-- FGDC: not required
  <for xpath="//mdConst/Consts">
    <exists xpath="useLimit[. != '']" ref="useLimit"/>  
  </for>
  -->
          </validation>
        </page>
      </section>
      <section class="ArcGIS.Desktop.Metadata.Editor.Sections.Resource">
        <page class="ArcGIS.Desktop.Metadata.Editor.Pages.ResourceDetails">
          <validation>

            <!-- FGDC: status code is required -->
            <for xpath="metadata">
              <exists xpath="dataIdInfo/idStatus/ProgCd[@value != '']" ref="ProgCd"/>
            </for>

            <!-- FGDC: spatial rep type required if content provided in spatial data representation page -->
            <for xpath="/metadata[(//spatRepInfo/VectSpatRep/geometObjs/geoObjCnt != '') or ((//spatRepInfo/Georect/axisDimension/dimSize != '') and ((//spatRepInfo/Georect/axisDimension/@type = '001') or (//spatRepInfo/Georect/axisDimension/@type = '002') or (//spatRepInfo/Georect/axisDimension/@type = '003')))]">
              <exists xpath="dataIdInfo/spatRpType/SpatRepTypCd[@value != '']" ref="SpatRepTypCd"/>
            </for>

            <!-- language of the dataset is mandatory as long as the hierarchy level code != service -->
            <!--  not for FGDC
  <for xpath="/metadata[mdHrLv/ScopeCd/@value != '014']">
    <exists xpath="//dataIdInfo/dataLang/languageCode[@value != '']" ref="languageCode"/>
  </for>
-->

            <!-- scale -->
            <for xpath="//dataIdInfo//scaleDist[value != '']">
              <exists xpath="value[@uom != '']" ref="uom,@uom"/>
            </for>

            <!-- format name and version -->
            <for xpath="//dsFormat">
              <exists xpath="formatName[. != '']" ref="formatName"/>
              <exists xpath="formatVer[. != '']" ref="formatVer"/>
            </for>

            <!-- browse file name -->
            <for xpath="//graphOver">
              <exists xpath="bgFileName[. != '']" ref="bgFileName"/>
              <!-- FGDC: these also required -->
              <exists xpath="bgFileDesc[. != '']" ref="bgFileDesc"/>
              <exists xpath="bgFileType[. != '']" ref="bgFileType"/>
            </for>

            <!-- spec usage -->
            <for xpath="//idSpecUse">
              <exists xpath="specUsage[. != '']" ref="specUsage"/>
            </for>

            <!-- FGDC: contact name or org is required; position is optional -->
            <for xpath="//idSpecUse/usrCntInfo">
              <exists xpath="self::*[rpIndName != '' or rpOrgName != '']" ref="partyFgdc IndName,rpIndName OrgName,rpOrgName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>
            <!-- FGDC: address not required for originators and publishers-->
            <for xpath="//idSpecUse/usrCntInfo[role/RoleCd/@value != '006' and role/RoleCd/@value != '010']">
              <exists xpath="rpCntInfo/cntAddress[@addressType != '']" ref="addressType,@addressType"/>
              <exists xpath="rpCntInfo/cntAddress/adminArea[. != '']" ref="adminArea,.,adminArea_FGDC"/>
              <exists xpath="rpCntInfo/cntAddress/postCode[. != '']" ref="postCode"/>
              <exists xpath="rpCntInfo/cntAddress/city[. != '']" ref="city"/>
              <exists xpath="rpCntInfo/cntPhone/voiceNum[(not(@tddtty) or @tddtty = '' or @tddtty = 'voice' or @tddtty = 'False' or @tddtty = 'false') and . != '']" ref="voiceNum"/>
            </for>

            <!-- linkage -->
            <for xpath="//idSpecUse/usrCntInfo/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>

          </validation>
        </page>
        <page class="ArcGIS.Desktop.Metadata.Editor.Pages.ResourceExtent">
          <validation>

            <!-- FGDC: a temporal extent period or instant is required -->
            <for xpath="/metadata">
              <exists xpath="dataIdInfo/dataExt[tempEle//* != '']" ref="temporalReq"/>
            </for>

            <!-- FGDC: a description is required if a temporal extent is used -->
            <for xpath="//dataIdInfo/dataExt[tempEle]">
              <exists xpath="exDesc[. != '']" ref="exDesc,.,tempEle_exDesc"/>
            </for>

            <!-- FGDC: a bounding box is required no matter what the 'scope' -->
            <exists xpath="//dataExt//GeoBndBox[*]" ref="dataExtBBoxReq_FGDC"/>

            <for xpath="//dataExt//GeoBndBox[*]">
              <exists xpath="westBL[. != '']" ref="westBL,.,westBL"/>
              <exists xpath="eastBL[. != '']" ref="eastBL,.,eastBL"/>
              <exists xpath="northBL[. != '']" ref="northBL,.,northBL"/>
              <exists xpath="southBL[. != '']" ref="southBL,.,southBL"/>
              <exists xpath=".[westBL &lt; eastBL]" ref="westBL,westBL,westBL_range"/>
              <exists xpath=".[southBL &lt; northBL]" ref="northBL,northBL,northBL_range"/>
            </for>

            <!-- vertical max and min -->
            <for xpath="//dataExt//vertEle[*]">
              <exists xpath="vertMinVal[. != '']" ref="vertMinVal"/>
              <exists xpath="vertMaxVal[. != '']" ref="vertMaxVal"/>
            </for>
            <for xpath="//dataExt//vertEle[* != '']">
              <exists xpath="self::*[vertMinVal &lt; vertMaxVal]" ref="vertMinMaxVal vertMinVal,vertMinVal vertMaxVal,vertMaxVal"/>
            </for>

            <!-- FGDC: contact name or org is required; position is optional -->
            <for xpath="//dataExt//GeoDesc//citRespParty">
              <exists xpath="self::*[rpIndName != '' or rpOrgName != '']" ref="partyFgdc IndName,rpIndName OrgName,rpOrgName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>
            <!-- FGDC: address not required for originators and publishers-->
            <for xpath="//dataExt//GeoDesc//citRespParty[role/RoleCd/@value != '006' and role/RoleCd/@value != '010']">
              <exists xpath="rpCntInfo/cntAddress[@addressType != '']" ref="addressType,@addressType"/>
              <exists xpath="rpCntInfo/cntAddress/adminArea[. != '']" ref="adminArea,.,adminArea_FGDC"/>
              <exists xpath="rpCntInfo/cntAddress/postCode[. != '']" ref="postCode"/>
              <exists xpath="rpCntInfo/cntAddress/city[. != '']" ref="city"/>
              <exists xpath="rpCntInfo/cntPhone/voiceNum[(not(@tddtty) or @tddtty = '' or @tddtty = 'voice' or @tddtty = 'False' or @tddtty = 'false') and . != '']" ref="voiceNum"/>
            </for>

            <!-- linkage -->
            <for xpath="//dataExt//GeoDesc//citRespParty/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>

            <!-- citation -->
            <for xpath="//dataExt//*[identCode]">
              <exists xpath="identCode[. != '']" ref="identCode"/>
            </for>
            <for xpath="//dataExt//*[resTitle | date]">
              <exists xpath="resTitle[. != '']" ref="resTitle"/>
              <exists xpath="date[* != '']" ref="dates createDate,createDate pubDate,pubDate reviseDate,reviseDate"/>
            </for>
            <for xpath="//dataExt//citOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>

          </validation>
        </page>
        <page class="ArcGIS.Desktop.Metadata.Editor.Pages.ResourcePoc">
          <validation>

            <!-- FGDC: contact name or org is required; position is optional -->
            <for xpath="//dataIdInfo/idPoC">
              <exists xpath="self::*[rpIndName != '' or rpOrgName != '']" ref="partyFgdc IndName,rpIndName OrgName,rpOrgName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>
            <!-- FGDC: address not required for originators and publishers-->
            <for xpath="//dataIdInfo/idPoC[role/RoleCd/@value != '006' and role/RoleCd/@value != '010']">
              <exists xpath="rpCntInfo/cntAddress[@addressType != '']" ref="addressType,@addressType"/>
              <exists xpath="rpCntInfo/cntAddress/adminArea[. != '']" ref="adminArea,.,adminArea_FGDC"/>
              <exists xpath="rpCntInfo/cntAddress/postCode[. != '']" ref="postCode"/>
              <exists xpath="rpCntInfo/cntAddress/city[. != '']" ref="city"/>
              <exists xpath="rpCntInfo/cntPhone/voiceNum[(not(@tddtty) or @tddtty = '' or @tddtty = 'voice' or @tddtty = 'False' or @tddtty = 'false') and . != '']" ref="voiceNum"/>
            </for>

            <!-- linkage -->
            <for xpath="//dataIdInfo/idPoC/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>
          </validation>
        </page>
        <page class="ArcGIS.Desktop.Metadata.Editor.Pages.ResourceMaintenance">
          <validation>

            <for xpath="//resMaint">

              <!-- maintentance frequency
    FDGC: see the global rule below
    
    <for xpath="maintFreq">
      <exists xpath="MaintFreqCd[@value != '']" ref="maintFreq"/>  
    </for>     
    -->

              <!-- maintenance scope -->
              <for xpath="maintScp">
                <exists xpath="ScopeCd[@value != '']" ref="scopeCd"/>
              </for>
            </for>

            <!-- FGDC: frequency is always required -->
            <exists xpath="/metadata/dataIdInfo/resMaint/maintFreq/MaintFreqCd[@value != '']" ref="maintFreq"/>

            <!-- FGDC: contact name or org is required; position is optional -->
            <for xpath="//resMaint/maintCont">
              <exists xpath="self::*[rpIndName != '' or rpOrgName != '']" ref="partyFgdc IndName,rpIndName OrgName,rpOrgName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>
            <!-- FGDC: address not required for originators and publishers-->
            <for xpath="//resMaint/maintCont[role/RoleCd/@value != '006' and role/RoleCd/@value != '010']">
              <exists xpath="rpCntInfo/cntAddress[@addressType != '']" ref="addressType,@addressType"/>
              <exists xpath="rpCntInfo/cntAddress/adminArea[. != '']" ref="adminArea,.,adminArea_FGDC"/>
              <exists xpath="rpCntInfo/cntAddress/postCode[. != '']" ref="postCode"/>
              <exists xpath="rpCntInfo/cntAddress/city[. != '']" ref="city"/>
              <exists xpath="rpCntInfo/cntPhone/voiceNum[(not(@tddtty) or @tddtty = '' or @tddtty = 'voice' or @tddtty = 'False' or @tddtty = 'false') and . != '']" ref="voiceNum"/>
            </for>

            <!-- linkage -->
            <for xpath="//resMaint/maintCont/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>

          </validation>
        </page>
        <page class="ArcGIS.Desktop.Metadata.Editor.Pages.ResourceConstraints">
          <validation>
            <!-- classification code -->
            <for xpath="//resConst/SecConsts">
              <exists xpath="class/ClasscationCd[@value != '']" ref="ClasscationCd"/>
              <!-- FGDC: additional constraints -->
              <exists xpath="classSys[. != '']" ref="classSys"/>
              <exists xpath="handDesc[. != '']" ref="handDesc"/>
            </for>
            <!-- if the 'other contraints' code is used, then the other contraints tag is required -->
            <for xpath="//resConst/LegConsts[*/RestrictCd/@value = '008']">
              <exists xpath="othConsts[. != '']" ref="othConsts"/>
            </for>

            <!-- FGDC: if a distributor is provided, then distribution liability must be provided -->
            <for xpath="//distInfo/distributor[.//*]">
              <exists xpath="//dataIdInfo/resConst/LegConsts/useLimit[. != '']" ref="useLimit,.,useLimitDist"/>
            </for>
          </validation>
        </page>
        <page class="ArcGIS.Desktop.Metadata.Editor.Pages.SpatialRepresentation">
          <validation>

            <!-- dimension type -->
            <for xpath="//axisDimension">
              <exists xpath=".[@type != '']" ref="DimType"/>
              <exists xpath="dimSize[. != '']" ref="dimSize"/>
            </for>

            <for xpath="//dimResol[value != '']">
              <exists xpath="value[@uom != '']" ref="ValueUoMUnits"/>
            </for>

            <!-- point in pixel -->
            <for xpath="//Georect[ptInPixel]">
              <exists xpath="ptInPixel/PixOrientCd[@value != '']" ref="ptInPixel"/>
            </for>

            <!-- cell geometry -->
            <for xpath="//cellGeo">
              <exists xpath="CellGeoCd[@value != '']" ref="cellGeo"/>
            </for>

            <!-- feature count -->
            <for xpath="//geometObjs">
              <exists xpath="geoObjCnt[. != '']" ref="geoObjCnt"/>
            </for>

            <!-- geometric object type -->
            <for xpath="//geoObjTyp[GeoObjTypCd]">
              <exists xpath="GeoObjTypCd[@value != '']" ref="GeoObjTypCd"/>
            </for>

            <!-- number of dimensions -->
            <for xpath="//GridSpatRep">
              <exists xpath="numDims[. != '']" ref="numDims"/>
            </for>

            <!-- number of dimensions -->
            <for xpath="//Georect">
              <exists xpath="numDims[. != '']" ref="numDims"/>
            </for>

            <!-- check point availablity -->
            <for xpath="//Georect[chkPtAv = 'True']">
              <exists xpath="chkPtDesc[. != '']" ref="chkPtDesc"/>
            </for>

            <!-- parameters -->
            <for xpath="//Georef">
              <exists xpath="georefPars[. != '']" ref="georefPars"/>
            </for>

            <!-- number of dimensions -->
            <for xpath="//Georef">
              <exists xpath="numDims[. != '']" ref="numDims"/>
            </for>

            <!-- citation -->
            <for xpath="//spatRepInfo//*[identCode]">
              <exists xpath="identCode[. != '']" ref="identCode"/>
            </for>
            <for xpath="//spatRepInfo//*[resTitle | date]">
              <exists xpath="resTitle[. != '']" ref="resTitle"/>
              <exists xpath="date/*[. != '']" ref="dates"/>
            </for>

            <!-- FGDC: contact name or org is required; position is optional -->
            <for xpath="//spatRepInfo//paraCit//citRespParty">
              <exists xpath="self::*[rpIndName != '' or rpOrgName != '']" ref="partyFgdc IndName,rpIndName OrgName,rpOrgName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>
            <!-- FGDC: address not required for originators and publishers-->
            <for xpath="//spatRepInfo//paraCit//citRespParty[role/RoleCd/@value != '006' and role/RoleCd/@value != '010']">
              <exists xpath="rpCntInfo/cntAddress[@addressType != '']" ref="addressType,@addressType"/>
              <exists xpath="rpCntInfo/cntAddress/adminArea[. != '']" ref="adminArea,.,adminArea_FGDC"/>
              <exists xpath="rpCntInfo/cntAddress/postCode[. != '']" ref="postCode"/>
              <exists xpath="rpCntInfo/cntAddress/city[. != '']" ref="city"/>
              <exists xpath="rpCntInfo/cntPhone/voiceNum[(not(@tddtty) or @tddtty = '' or @tddtty = 'voice' or @tddtty = 'False' or @tddtty = 'false') and . != '']" ref="voiceNum"/>
            </for>

            <!-- linkage -->
            <for xpath="//spatRepInfo//paraCit//citRespParty/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>

          </validation>
        </page>
        <page class="ArcGIS.Desktop.Metadata.Editor.Pages.ContentInformation">
          <validation>

            <!-- all content information citations -->
            <!--  title and date required -->
            <for xpath="//contInfo//*[resTitle | date]">
              <exists xpath="resTitle[. != '']" ref="resTitle"/>
              <!-- FGDC: publication date is required -->
              <exists xpath="date/pubDate[. != '']" ref="pubDate"/>
            </for>
            <!--  follow ISO title and date rules for identifiers -->
            <for xpath="//idCitation//identAuth[resTitle | date]">
              <exists xpath="resTitle[. != '']" ref="resTitle"/>
              <exists xpath="date[* != '']" ref="dates createDate,createDate pubDate,pubDate reviseDate,reviseDate"/>
            </for>
            <!--  linkage required for online resources -->
            <for xpath="//contInfo//citOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>
            <!--  code required for identifiers -->
            <for xpath="//contInfo//*[identCode]">
              <exists xpath="identCode[. != '']" ref="identCode"/>
            </for>

            <!--  feature catalogue -->
            <!--  included With dataset is mandatory -->
            <for xpath="//FetCatDesc[incWithDS]">
              <exists xpath="incWithDS[. != '']" ref="incWithDS"/>
            </for>

            <!-- citation FGDC: contact name or org is required; position is optional -->
            <for xpath="//catCitation//citRespParty">
              <exists xpath="self::*[rpIndName != '' or rpOrgName != '']" ref="partyFgdc IndName,rpIndName OrgName,rpOrgName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>

            <!-- citation FGDC: address not required for originators and publishers-->
            <for xpath="//catCitation//citRespParty[role/RoleCd/@value != '006' and role/RoleCd/@value != '010']">
              <exists xpath="rpCntInfo/cntAddress[@addressType != '']" ref="addressType,@addressType"/>
              <exists xpath="rpCntInfo/cntAddress/adminArea[. != '']" ref="adminArea,.,adminArea_FGDC"/>
              <exists xpath="rpCntInfo/cntAddress/postCode[. != '']" ref="postCode"/>
              <exists xpath="rpCntInfo/cntAddress/city[. != '']" ref="city"/>
              <exists xpath="rpCntInfo/cntPhone/voiceNum[(not(@tddtty) or @tddtty = '' or @tddtty = 'voice' or @tddtty = 'False' or @tddtty = 'false') and . != '']" ref="voiceNum"/>
            </for>

            <!-- citation contact linkage -->
            <for xpath="//catCitation//citRespParty/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>

            <!--  coverage and image description -->
            <!-- attribute description -->
            <for xpath="//CovDesc">
              <exists xpath="attDesc[. != '']" ref="attDesc"/>
            </for>
            <for xpath="//ImgDesc">
              <exists xpath="attDesc[. != '']" ref="attDesc"/>
            </for>

            <!-- content type code -->
            <for xpath="//contentTyp">
              <exists xpath="ContentTypCd[@value != '']" ref="ContentTypCd"/>
            </for>

            <!-- sequence identifier -->
            <for xpath="//CovDesc//RangeDim">
              <exists xpath="seqID[aName != '' and attributeType/aName != '']" ref="seqID aName,aName attributeType,attributeType/aName"/>
            </for>
            <for xpath="//CovDesc//Band">
              <exists xpath="seqID[aName != '' and attributeType/aName != '']" ref="seqID aName,aName attributeType,attributeType/aName"/>
            </for>
            <for xpath="//ImgDesc//RangeDim">
              <exists xpath="seqID[aName != '' and attributeType/aName != '']" ref="seqID aName,aName attributeType,attributeType/aName"/>
            </for>
            <for xpath="//ImgDesc//Band">
              <exists xpath="seqID[aName != '' and attributeType/aName != '']" ref="seqID aName,aName attributeType,attributeType/aName"/>
            </for>

            <!-- band -->
            <for xpath="//Band[minVal != '' or maxVal != '']">
              <exists xpath="self::*[minVal &lt; maxVal]" ref="Band,.,bandMinMax minVal,minVal maxVal,maxVal"/>
              <exists xpath="valUnit/UOM/unitSymbol[. != '']" ref="uom"/>
            </for>

            <!--  image description identifiers -->
            <!-- citation FGDC: contact name or org is required; position is optional -->
            <for xpath="//ImgDesc//citRespParty">
              <exists xpath="self::*[rpIndName != '' or rpOrgName != '']" ref="partyFgdc IndName,rpIndName OrgName,rpOrgName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>

            <!-- citation FGDC: address not required for originators and publishers-->
            <for xpath="//ImgDesc//citRespParty[role/RoleCd/@value != '006' and role/RoleCd/@value != '010']">
              <exists xpath="rpCntInfo/cntAddress[@addressType != '']" ref="addressType,@addressType"/>
              <exists xpath="rpCntInfo/cntAddress/adminArea[. != '']" ref="adminArea,.,adminArea_FGDC"/>
              <exists xpath="rpCntInfo/cntAddress/postCode[. != '']" ref="postCode"/>
              <exists xpath="rpCntInfo/cntAddress/city[. != '']" ref="city"/>
              <exists xpath="rpCntInfo/cntPhone/voiceNum[(not(@tddtty) or @tddtty = '' or @tddtty = 'voice' or @tddtty = 'False' or @tddtty = 'false') and . != '']" ref="voiceNum"/>
            </for>

            <!-- citation contact linkage -->
            <for xpath="//ImgDesc//citRespParty/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>

          </validation>
        </page>
        <page class="ArcGIS.Desktop.Metadata.Editor.Pages.DataQuality">
          <validation>

            <!-- data quality report type -->
            <for xpath="//dqInfo/report">
              <exists xpath=".[@type != '']" ref="ReportType"/>
            </for>

            <!-- scope level is required -->
            <!-- FGDC: not required
  <for xpath="//dqInfo">
    <exists xpath="dqScope/scpLvl/ScopeCd[@value != '']" ref="scopeCd"/>
  </for>
  -->

            <!-- if scope does not equal "dataset" or "series", then a Level Description is required -->
            <!-- FGDC: not required
  <for xpath="//dqInfo/dqScope[scpLvl/ScopeCd/@value != '005' and scpLvl/ScopeCd/@value != '006' and scpLvl/ScopeCd/@value != '']">
    <exists xpath="scpLvlDesc[.//* != '']" ref="scpLvlDesc"/>
  </for>
  -->

            <!-- either lineage information or a data quality report must be provided for datasets -->
            <!-- FGDC: not required
  <for xpath="//dqInfo[dqScope/scpLvl/ScopeCd/@value = '005']">
    <or ref="datasetReq">                
      <exists xpath="dataLineage[.//* !='']"/>
      <exists xpath="report[.//*  !='']"/>
      <exists xpath="report[descendant-or-self::*/@code !='' or descendant-or-self::*/@value !='' or descendant-or-self::*/@type !='']"/>           
    </or>
  </for> -->

            <!-- FGDC: conceptual consistency report is required if data quality reports or lineage information is provided -->
            <!-- <for xpath="//dqInfo[(report/@type != 'DQConcConsis' and report/@type != 'DQCompOm') or dataLineage//* != '']"> -->
            <for xpath="//dqInfo[( report and ( not(report/@type) or (report/@type = '') ) ) or ( ( (report//* != '') or (dataLineage//* != '') ) and ( not(report/@type) or (report/@type = '') or (report/@type = 'DQQuanAttAcc') or (report/@type = 'DQAbsExtPosAcc') ) ) or ( ( (report/@type = 'DQCompOm') or (report/@type = 'DQConcConsis') ) and not( (report/@type = 'DQCompOm') and (report/@type = 'DQConcConsis') ) )]">
              <exists xpath="report[@type = 'DQConcConsis']" ref="DQConcConsis"/>
              <exists xpath="report[@type = 'DQCompOm']" ref="DQCompOm"/>
            </for>

            <!-- FGDC: within these reports, measure description and eval method description are required -->
            <for xpath="//dqInfo/report[@type != 'DQConcConsis' and @type != 'DQCompOm']">
              <exists xpath="measDesc[. != '']" ref="measDesc"/>
              <exists xpath="evalMethDesc[. != '']" ref="evalMethDesc"/>
            </for>

            <!-- FGDC: within these reports, only measure description is required -->
            <for xpath="//dqInfo/report[@type = 'DQConcConsis' or @type = 'DQCompOm']">
              <exists xpath="measDesc[. != '']" ref="measDesc"/>
            </for>

            <!-- within the report section, either a conformance result or a quantitative result must be provided -->
            <!-- FGDC: for conceptual consistency or completeness omission, only a measure description is required -->
            <for xpath="//dqInfo/report[(@type != 'DQConcConsis') and (@type != 'DQCompOm')]">
              <or ref="reportReq">
                <exists xpath="measResult/ConResult//*[ . != '']"/>
                <exists xpath="measResult/QuanResult//*[ . != '']"/>
              </or>
            </for>


            <!-- within the conformance result section, all of its elements are mandatory -->
            <for xpath="//dqInfo/report/measResult/ConResult">
              <exists xpath="conExpl[ . != '']" ref="conExpl"/>
              <exists xpath="conSpec[ descendant::* != '']" ref="conSpec"/>
              <exists xpath="conPass[ . != '']" ref="conPass"/>
            </for>

            <!-- within the Quantitative Result section, a value and a unit of measure are required. -->
            <for xpath="//dqInfo/report/measResult/QuanResult">
              <exists xpath="quanValUnit/UOM/unitSymbol[ .!= '']" ref="uom"/>
            </for>
            <for xpath="//dqInfo/report/measResult/QuanResult/quanVal">
              <exists xpath="self::*[ . != '']" ref="quanVal"/>
            </for>

            <!-- FGDC: contact name or org is required; position is optional -->
            <for xpath="//report//citRespParty">
              <exists xpath="self::*[rpIndName != '' or rpOrgName != '']" ref="partyFgdc IndName,rpIndName OrgName,rpOrgName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>
            <!-- FGDC: address not required for originators and publishers-->
            <for xpath="//report//citRespParty[role/RoleCd/@value != '006' and role/RoleCd/@value != '010']">
              <exists xpath="rpCntInfo/cntAddress[@addressType != '']" ref="addressType,@addressType"/>
              <exists xpath="rpCntInfo/cntAddress/adminArea[. != '']" ref="adminArea,.,adminArea_FGDC"/>
              <exists xpath="rpCntInfo/cntAddress/postCode[. != '']" ref="postCode"/>
              <exists xpath="rpCntInfo/cntAddress/city[. != '']" ref="city"/>
              <exists xpath="rpCntInfo/cntPhone/voiceNum[(not(@tddtty) or @tddtty = '' or @tddtty = 'voice' or @tddtty = 'False' or @tddtty = 'false') and . != '']" ref="voiceNum"/>
            </for>

            <!-- linkage -->
            <for xpath="//report//citRespParty/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>

            <!-- citation -->
            <for xpath="//dqInfo/report//*[resTitle | date]">
              <exists xpath="resTitle[. != '']" ref="resTitle"/>
              <exists xpath="date[* != '']" ref="dates createDate,createDate pubDate,pubDate reviseDate,reviseDate"/>
            </for>
            <for xpath="//dqInfo/report//citOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>
            <for xpath="//dqInfo/scpExt//*[resTitle | date]">
              <exists xpath="resTitle[. != '']" ref="resTitle"/>
              <exists xpath="date[* != '']" ref="dates createDate,createDate pubDate,pubDate reviseDate,reviseDate"/>
            </for>
            <for xpath="//dqInfo/scpExt//citOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>

            <!-- identifier -->
            <for xpath="//dqInfo/report//*[identCode]">
              <exists xpath="identCode[. != '']" ref="identCode"/>
            </for>
            <for xpath="//dqInfo/scpExt//*[identCode]">
              <exists xpath="identCode[. != '']" ref="identCode"/>
            </for>

            <!-- bounding box -->
            <for xpath="//scpExt//GeoBndBox[*]">
              <exists xpath="westBL[. != '']" ref="westBL,.,westBL"/>
              <exists xpath="eastBL[. != '']" ref="eastBL,.,eastBL"/>
              <exists xpath="northBL[. != '']" ref="northBL,.,northBL"/>
              <exists xpath="southBL[. != '']" ref="southBL,.,southBL"/>
              <exists xpath=".[westBL &lt; eastBL]" ref="westBL,westBL,westBL_range"/>
              <exists xpath=".[southBL &lt; northBL]" ref="northBL,northBL,northBL_range"/>
            </for>

            <!-- vertical max and min -->
            <for xpath="//scpExt//vertEle[*]">
              <exists xpath="vertMinVal[. != '']" ref="vertMinVal"/>
              <exists xpath="vertMaxVal[. != '']" ref="vertMaxVal"/>
            </for>

            <!-- FGDC: contact name or org is required; position is optional -->
            <for xpath="//scpExt//citRespParty">
              <exists xpath="self::*[rpIndName != '' or rpOrgName != '']" ref="partyFgdc IndName,rpIndName OrgName,rpOrgName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>
            <!-- FGDC: address not required for originators and publishers-->
            <for xpath="//scpExt//citRespParty[role/RoleCd/@value != '006' and role/RoleCd/@value != '010']">
              <exists xpath="rpCntInfo/cntAddress[@addressType != '']" ref="addressType,@addressType"/>
              <exists xpath="rpCntInfo/cntAddress/adminArea[. != '']" ref="adminArea,.,adminArea_FGDC"/>
              <exists xpath="rpCntInfo/cntAddress/postCode[. != '']" ref="postCode"/>
              <exists xpath="rpCntInfo/cntAddress/city[. != '']" ref="city"/>
              <exists xpath="rpCntInfo/cntPhone/voiceNum[(not(@tddtty) or @tddtty = '' or @tddtty = 'voice' or @tddtty = 'False' or @tddtty = 'false') and . != '']" ref="voiceNum"/>
            </for>

            <!-- linkage -->
            <for xpath="//scpExt//citRespParty/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>

          </validation>
        </page>
        <page class="ArcGIS.Desktop.Metadata.Editor.Pages.LI_Lineage">
          <validation>

            <!-- if scope = "dataset" or "series", one of process step, data source, or lineage statement is required -->
            <!-- FGDC: not required
  <for xpath="//dqInfo[dqScope/scpLvl/ScopeCd/@value = '005' or dqScope/scpLvl/ScopeCd/@value = '006']">
    <exists xpath=".//*[ . != '']" ref="dqInfo"/>
  </for>
  -->

            <!-- FGDC: this required if there are reports, not tied to scope codes -->
            <for xpath="//dqInfo[report//* != '']">
              <!-- <for xpath="//dqInfo[dqScope/scpLvl/ScopeCd/@value = '005' or dqScope/scpLvl/ScopeCd/@value = '006']"> -->
              <for xpath="dataLineage">
                <or ref="dataLineage_FGDC">
                  <!-- FGDC not required
        <exists xpath="statement[. != '']"/>
        <exists xpath="dataSource/*[. != '']"/>
        -->
                  <exists xpath="prcStep/*[. != '']"/>
                </or>
              </for>
            </for>

            <!-- either lineage information or a data quality report must be provided for datasets -->
            <!-- FGDC: not required
  <for xpath="//dqInfo[dqScope/scpLvl/ScopeCd/@value = '005']">
    <or ref="datasetReq">                
      <exists xpath="dataLineage[.//* !='']"/>
      <exists xpath="report[.//*  !='']"/>
      <exists xpath="report[descendant-or-self::*/@code !='' or descendant-or-self::*/@value !='' or descendant-or-self::*/@type !='']"/>           
    </or>
  </for>
  -->

            <!-- process step description -->
            <for xpath="//prcStep">
              <exists xpath="stepDesc[. != '']" ref="stepDesc"/>
              <!-- FGDC: date is required -->
              <exists xpath="stepDateTm[. != '']" ref="stepDateTm"/>
            </for>

            <!-- Within data source, either an extent or a description must be provided -->
            <for xpath="//dqInfo/dataLineage/dataSource">
              <or ref="dataSource">
                <exists xpath="srcDesc[. != '']"/>
                <exists xpath="srcExt/*[. != '']"/>
              </or>
            </for>

            <!-- FGDC: contact name or org is required; position is optional -->
            <for xpath="//prcStep/stepProc">
              <exists xpath="self::*[rpIndName != '' or rpOrgName != '']" ref="partyFgdc IndName,rpIndName OrgName,rpOrgName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>
            <!-- FGDC: address not required for originators and publishers-->
            <for xpath="//prcStep/stepProc[role/RoleCd/@value != '006' and role/RoleCd/@value != '010']">
              <exists xpath="rpCntInfo/cntAddress[@addressType != '']" ref="addressType,@addressType"/>
              <exists xpath="rpCntInfo/cntAddress/adminArea[. != '']" ref="adminArea,.,adminArea_FGDC"/>
              <exists xpath="rpCntInfo/cntAddress/postCode[. != '']" ref="postCode"/>
              <exists xpath="rpCntInfo/cntAddress/city[. != '']" ref="city"/>
              <exists xpath="rpCntInfo/cntPhone/voiceNum[(not(@tddtty) or @tddtty = '' or @tddtty = 'voice' or @tddtty = 'False' or @tddtty = 'false') and . != '']" ref="voiceNum"/>
            </for>

            <!-- linkage -->
            <for xpath="//prcStep/stepProc/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>

            <!-- FGDC: contact name or org is required; position is optional -->
            <for xpath="//dataLineage//citRespParty">
              <exists xpath="self::*[rpIndName != '' or rpOrgName != '']" ref="partyFgdc IndName,rpIndName OrgName,rpOrgName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>
            <!-- FGDC: address not required for originators and publishers-->
            <for xpath="//dataLineage//citRespParty[role/RoleCd/@value != '006' and role/RoleCd/@value != '010']">
              <exists xpath="rpCntInfo/cntAddress[@addressType != '']" ref="addressType,@addressType"/>
              <exists xpath="rpCntInfo/cntAddress/adminArea[. != '']" ref="adminArea,.,adminArea_FGDC"/>
              <exists xpath="rpCntInfo/cntAddress/postCode[. != '']" ref="postCode"/>
              <exists xpath="rpCntInfo/cntAddress/city[. != '']" ref="city"/>
              <exists xpath="rpCntInfo/cntPhone/voiceNum[(not(@tddtty) or @tddtty = '' or @tddtty = 'voice' or @tddtty = 'False' or @tddtty = 'false') and . != '']" ref="voiceNum"/>
            </for>

            <!-- linkage -->
            <for xpath="//dataLineage//citRespParty/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>

            <!-- bounding box -->
            <for xpath="//srcExt//GeoBndBox[*]">
              <exists xpath="westBL[. != '']" ref="westBL,.,westBL"/>
              <exists xpath="eastBL[. != '']" ref="eastBL,.,eastBL"/>
              <exists xpath="northBL[. != '']" ref="northBL,.,northBL"/>
              <exists xpath="southBL[. != '']" ref="southBL,.,southBL"/>
              <exists xpath=".[westBL &lt; eastBL]" ref="westBL,westBL,westBL_range"/>
              <exists xpath=".[southBL &lt; northBL]" ref="northBL,northBL,northBL_range"/>
            </for>

            <!-- vertical max and min -->
            <for xpath="//srcExt//vertEle[*]">
              <exists xpath="vertMinVal[. != '']" ref="vertMinVal"/>
              <exists xpath="vertMaxVal[. != '']" ref="vertMaxVal"/>
            </for>

            <!-- FGDC: a temporal extent period or instant is required -->
            <for xpath="/metadata">
              <exists xpath="//dataLineage/dataSource[not(srcExt) or (srcExt/tempEle//* != '')]" ref="temporalReq"/>
              <exists xpath="//dataLineage//stepSrc[not(srcExt) or (srcExt/tempEle//* != '')]" ref="temporalReq"/>
            </for>

            <!-- FGDC: a description is required if a temporal extent is used -->
            <for xpath="//srcExt[tempEle]">
              <exists xpath="exDesc[. != '']" ref="exDesc,.,tempEle_exDesc"/>
            </for>

            <!-- data source referense system -->
            <for xpath="//dataLineage//srcRefSys[identCode]">
              <exists xpath="identCode[@code != '']" ref="identCode"/>
            </for>

            <!-- citations -->
            <for xpath="//dataLineage//*[resTitle | date]">
              <exists xpath="resTitle[. != '']" ref="resTitle"/>
              <!-- FGDC: publication date is required -->
              <exists xpath="date/pubDate[. != '']" ref="pubDate"/>
            </for>
            <for xpath="//dataLineage//citOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>

            <!-- identifiers -->
            <for xpath="//dataLineage//*[identCode and not(identCode/@code)]">
              <exists xpath="identCode[. != '']" ref="identCode"/>
            </for>

          </validation>
        </page>
        <page class="ArcGIS.Desktop.Metadata.Editor.Pages.DistributionInfo">
          <validation>

            <!-- format name and version -->
            <for xpath="//distorFormat">
              <exists xpath="formatName[. != '']" ref="formatName"/>
            </for>

            <!-- if a density value is provided, the density units is mandatory -->
            <for xpath="//offLineMed[medDensity != '']">
              <exists xpath="medDenUnits[. != '']" ref="medDenUnits"/>
            </for>

            <!-- FGDC: contact name or org is required; position is optional -->
            <for xpath="//distributor/distorCont">
              <exists xpath="self::*[rpIndName != '' or rpOrgName != '']" ref="partyFgdc IndName,rpIndName OrgName,rpOrgName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>
            <!-- FGDC: address not required for originators and publishers-->
            <for xpath="//distributor/distorCont[role/RoleCd/@value != '006' and role/RoleCd/@value != '010']">
              <exists xpath="rpCntInfo/cntAddress[@addressType != '']" ref="addressType,@addressType"/>
              <exists xpath="rpCntInfo/cntAddress/adminArea[. != '']" ref="adminArea,.,adminArea_FGDC"/>
              <exists xpath="rpCntInfo/cntAddress/postCode[. != '']" ref="postCode"/>
              <exists xpath="rpCntInfo/cntAddress/city[. != '']" ref="city"/>
              <exists xpath="rpCntInfo/cntPhone/voiceNum[(not(@tddtty) or @tddtty = '' or @tddtty = 'voice' or @tddtty = 'False' or @tddtty = 'false') and . != '']" ref="voiceNum"/>
            </for>

            <!-- linkage -->
            <for xpath="//distributor/distorCont/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>

            <!-- linkage -->
            <for xpath="//distInfo//onLineSrc">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>

          </validation>
        </page>
        <page class="ArcGIS.Desktop.Metadata.Editor.Pages.EntityAttributeInfo">
          <validation>

            <!-- codeset domains -->
            <for xpath="//codesetd">
              <exists xpath="codesetn[. != '']" ref="codesetn"/>
              <exists xpath="codesets[. != '']" ref="codesets"/>
            </for>

            <!-- enumerated domains -->
            <for xpath="//edom">
              <exists xpath="edomv[. != '']" ref="edomv"/>
              <exists xpath="edomvd[. != '']" ref="edomvd"/>
              <exists xpath="edomvds[. != '']" ref="edomvds"/>
            </for>

            <!-- range domains -->
            <for xpath="//rdom">
              <exists xpath="rdommin[. != '']" ref="rdommin"/>
              <exists xpath="rdommax[. != '']" ref="rdommax"/>
              <exists xpath=".[rdommin &lt; rdommax]" ref="rdommin,rdommin,rdommin_range"/>
            </for>

            <!-- entity type -->
            <for xpath="//enttyp">
              <exists xpath="enttypd[. != '']" ref="enttypd"/>
              <exists xpath="enttypds[. != '']" ref="enttypds"/>
              <!-- entity type label -->
              <exists xpath="enttypl[. != '']" ref="enttypl"/>
            </for>

            <!-- attribute label -->
            <for xpath="//attr">
              <exists xpath="attrlabl[. != '']" ref="attrlabl"/>

              <!-- attribute definition -->
              <exists xpath="attrdef[. != '']" ref="attrdef"/>

              <!-- attribute source -->
              <exists xpath="attrdefs[. != '']" ref="attrdefs"/>

              <!-- TODO: not working / attribute type -->
              <exists xpath="attrtype[. != '']" ref="attrtype"/>

              <!-- TODO: not working / attribute width -->
              <exists xpath="attwidth[. != '']" ref="attwidth"/>
            </for>

            <for xpath="/metadata/eainfo/detailed/attr">
              <exists xpath="attrdomv[count(edom | rdom | codesetd | udom) = 1]" ref="attrdomv"/>
            </for>
          </validation>
        </page>
        <page class="ArcGIS.Desktop.Metadata.Editor.Pages.References">
          <validation>

            <!-- aggregate resource -->
            <!-- association type required under aggregate information -->
            <for xpath="//aggrInfo/assocType">
              <exists xpath="AscTypeCd[@value != '']" ref="AscTypeCd"/>
            </for>
            <!-- either a citation or an identifier for the aggregate resource must be provided -->
            <for xpath="//aggrInfo">
              <or ref="aggrInfo">
                <exists xpath="aggrDSIdent/identCode[.!='']"/>
                <exists xpath="aggrDSName//*[.!='']"/>
              </or>
            </for>
            <!-- title and date required for aggregate citation, cross-reference or larger work citation -->
            <for xpath="//aggrInfo//aggrDSName[resTitle | date]">
              <exists xpath="resTitle[. != '']" ref="resTitle"/>
              <!-- rule present only because FGDC rule below won't appear on page (tried adding it in any location on page with same result) -->
              <exists xpath="date[* != '']" ref="dates createDate,createDate pubDate,pubDate reviseDate,reviseDate"/>
              <!-- FGDC: publication date is required -->
              <exists xpath="date/pubDate[. != '']" ref="pubDate"/>
            </for>
            <!-- citation identifier authority citation title and date required - ISO rules since FGDC doesn't have identifiers -->
            <for xpath="//aggrInfo//identAuth[resTitle | date]">
              <exists xpath="resTitle[. != '']" ref="resTitle"/>
              <exists xpath="date[* != '']" ref="dates createDate,createDate pubDate,pubDate reviseDate,reviseDate"/>
            </for>
            <!--  linkage required for online resources for main citation and identifier citation -->
            <for xpath="//aggrInfo//citOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>
            <!-- citation identifier -->
            <!--  code required for identifiers -->
            <for xpath="//aggrInfo//*[identCode]">
              <exists xpath="identCode[. != '']" ref="identCode"/>
            </for>
            <!-- citation or identifier citation cited responsible party  -->
            <!-- FGDC: contact name or org is required; position is optional -->
            <for xpath="//aggrInfo//citRespParty">
              <exists xpath="self::*[rpIndName != '' or rpOrgName != '']" ref="partyFgdc IndName,rpIndName OrgName,rpOrgName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>
            <!-- FGDC: address not required for originators and publishers-->
            <for xpath="//aggrInfo//citRespParty[role/RoleCd/@value != '006' and role/RoleCd/@value != '010']">
              <exists xpath="rpCntInfo/cntAddress[@addressType != '']" ref="addressType,@addressType"/>
              <exists xpath="rpCntInfo/cntAddress/adminArea[. != '']" ref="adminArea,.,adminArea_FGDC"/>
              <exists xpath="rpCntInfo/cntAddress/postCode[. != '']" ref="postCode"/>
              <exists xpath="rpCntInfo/cntAddress/city[. != '']" ref="city"/>
              <exists xpath="rpCntInfo/cntPhone/voiceNum[(not(@tddtty) or @tddtty = '' or @tddtty = 'voice' or @tddtty = 'False' or @tddtty = 'false') and . != '']" ref="voiceNum"/>
            </for>
            <!-- linkage -->
            <for xpath="//aggrInfo//citRespParty/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>

            <!-- portrayal catalogue  -->
            <!-- title and date required for citation and identifier citations -->
            <for xpath="//porCatInfo//*[resTitle | date]">
              <exists xpath="resTitle[. != '']" ref="resTitle"/>
              <exists xpath="date[* != '']" ref="dates createDate,createDate pubDate,pubDate reviseDate,reviseDate"/>
            </for>
            <!--  linkage required for online resources for main citation and identifier citation -->
            <for xpath="//porCatInfo//citOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>
            <!-- citation identifier -->
            <!--  code required for identifiers -->
            <for xpath="//porCatInfo//*[identCode]">
              <exists xpath="identCode[. != '']" ref="identCode"/>
            </for>
            <!-- citation or identifier citation cited responsible party  -->
            <!-- FGDC: contact name or org is required; position is optional -->
            <for xpath="//porCatInfo//citRespParty">
              <exists xpath="self::*[rpIndName != '' or rpOrgName != '']" ref="partyFgdc IndName,rpIndName OrgName,rpOrgName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>
            <!-- FGDC: address not required for originators and publishers-->
            <for xpath="//porCatInfo//citRespParty[role/RoleCd/@value != '006' and role/RoleCd/@value != '010']">
              <exists xpath="rpCntInfo/cntAddress[@addressType != '']" ref="addressType,@addressType"/>
              <exists xpath="rpCntInfo/cntAddress/adminArea[. != '']" ref="adminArea,.,adminArea_FGDC"/>
              <exists xpath="rpCntInfo/cntAddress/postCode[. != '']" ref="postCode"/>
              <exists xpath="rpCntInfo/cntAddress/city[. != '']" ref="city"/>
              <exists xpath="rpCntInfo/cntPhone/voiceNum[(not(@tddtty) or @tddtty = '' or @tddtty = 'voice' or @tddtty = 'False' or @tddtty = 'false') and . != '']" ref="voiceNum"/>
            </for>
            <!-- linkage -->
            <for xpath="//porCatInfo//citRespParty/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>

            <!-- application schema -->
            <!-- title and date required for citation and identifier citations -->
            <for xpath="//appSchInfo//*[resTitle | date]">
              <exists xpath="resTitle[. != '']" ref="resTitle"/>
              <exists xpath="date[* != '']" ref="dates createDate,createDate pubDate,pubDate reviseDate,reviseDate"/>
            </for>
            <!--  linkage required for online resources for main citation and identifier citation -->
            <for xpath="//appSchInfo//citOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>
            <!-- citation identifier -->
            <!--  code required for identifiers -->
            <for xpath="//appSchInfo//*[identCode]">
              <exists xpath="identCode[. != '']" ref="identCode"/>
            </for>
            <!-- citation or identifier citation cited responsible party  -->
            <!-- FGDC: contact name or org is required; position is optional -->
            <for xpath="//appSchInfo//citRespParty">
              <exists xpath="self::*[rpIndName != '' or rpOrgName != '']" ref="partyFgdc IndName,rpIndName OrgName,rpOrgName"/>
              <exists xpath="role[RoleCd/@value != '']" ref="role"/>
            </for>
            <!-- FGDC: address not required for originators and publishers-->
            <for xpath="//appSchInfo//citRespParty[role/RoleCd/@value != '006' and role/RoleCd/@value != '010']">
              <exists xpath="rpCntInfo/cntAddress[@addressType != '']" ref="addressType,@addressType"/>
              <exists xpath="rpCntInfo/cntAddress/adminArea[. != '']" ref="adminArea,.,adminArea_FGDC"/>
              <exists xpath="rpCntInfo/cntAddress/postCode[. != '']" ref="postCode"/>
              <exists xpath="rpCntInfo/cntAddress/city[. != '']" ref="city"/>
              <exists xpath="rpCntInfo/cntPhone/voiceNum[(not(@tddtty) or @tddtty = '' or @tddtty = 'voice' or @tddtty = 'False' or @tddtty = 'false') and . != '']" ref="voiceNum"/>
            </for>
            <!-- linkage -->
            <for xpath="//appSchInfo//citRespParty/rpCntInfo/cntOnlineRes">
              <exists xpath="linkage[. != '']" ref="linkage"/>
            </for>

          </validation>
        </page>
        <page class="ArcGIS.Desktop.Metadata.Editor.Pages.GeoprocessingHistory"></page>
      </section>
    </forms>
  </editor>
</metadataConfig>
